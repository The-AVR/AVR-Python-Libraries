{%- macro class(message, suffix) %}
class {{ message.name }}{{ suffix }}(TypedDict):
{%- if ('docs' in message and message['docs']|length > 0) %}
    """
{%- for line in message.docs %}
    {{ line }}
{%- endfor %}
    """
{% endif -%}
{%- if message.payload|length == 0 and ('docs' not in message or message['docs']|length == 0) %}
    pass
{%- else -%}
{%- for item in message.payload %}
    {{ item.key }}: {% if 'list' in item and item['list'] %}List[{{ item.type }}]{% else %}{{ item.type }}{% endif %}
{%- if 'docs' in item and item['docs']|length > 0 %}
    """
{%- for line in item.docs %}
    {{ line }}
{%- endfor %}
    """
{%- endif %}
{%- endfor %}
{%- endif %}
{% endmacro -%}

# This file is automatically generated. DO NOT EDIT!
# fmt: off

from __future__ import annotations

from typing import Any, List, Literal, Optional, Protocol, Tuple, TypedDict

# ======== helper classes ========

{% for klass in klasses %}
{{ class(klass, "") }}
{% endfor %}
# =========== payloads ===========

{% for message in messages %}
{{ class(message, "Payload") }}

class _{{ message.name }}Callable(Protocol):
    """
    Class used only for type-hinting MQTT callbacks
    """
    def __call__(self, payload: {{ message.name }}Payload) -> Any:
        ...
{% endfor %}
